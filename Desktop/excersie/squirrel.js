var JOURNAL = [
    {"events":["carrot","exercise","weekend"],"squirrel":false},
    {"events":["bread","pudding","brushed teeth","weekend","touched tree"],"squirrel":false},
    {"events":["carrot","nachos","brushed teeth","cycling","weekend"],"squirrel":false},
    {"events":["brussel sprouts","ice cream","brushed teeth","computer","weekend"],"squirrel":false},
    {"events":["potatoes","candy","brushed teeth","exercise","weekend","dentist"],"squirrel":false},
    {"events":["brussel sprouts","pudding","brushed teeth","running","weekend"],"squirrel":false},
    {"events":["pizza","brushed teeth","computer","work","touched tree"],"squirrel":false},
    {"events":["bread","beer","brushed teeth","cycling","work"],"squirrel":false},
    {"events":["cauliflower","brushed teeth","work"],"squirrel":false},
    {"events":["pizza","brushed teeth","cycling","work"],"squirrel":false},
    {"events":["lasagna","nachos","brushed teeth","work"],"squirrel":false},
    {"events":["brushed teeth","weekend","touched tree"],"squirrel":false},
    {"events":["lettuce","brushed teeth","television","weekend"],"squirrel":false},
    {"events":["spaghetti","brushed teeth","work"],"squirrel":false},
    {"events":["brushed teeth","computer","work"],"squirrel":false},
    {"events":["lettuce","nachos","brushed teeth","work"],"squirrel":false},
    {"events":["carrot","brushed teeth","running","work"],"squirrel":false},
    {"events":["brushed teeth","work"],"squirrel":false},
    {"events":["cauliflower","reading","weekend"],"squirrel":false},
    {"events":["bread","brushed teeth","weekend"],"squirrel":false},
    {"events":["lasagna","brushed teeth","exercise","work"],"squirrel":false},
    {"events":["spaghetti","brushed teeth","reading","work"],"squirrel":false},
    {"events":["carrot","ice cream","brushed teeth","television","work"],"squirrel":false},
    {"events":["spaghetti","nachos","work"],"squirrel":false},
    {"events":["cauliflower","ice cream","brushed teeth","cycling","work"],"squirrel":false},
    {"events":["spaghetti","peanuts","computer","weekend"],"squirrel":true},
    {"events":["potatoes","ice cream","brushed teeth","computer","weekend"],"squirrel":false},
    {"events":["potatoes","ice cream","brushed teeth","work"],"squirrel":false},
    {"events":["peanuts","brushed teeth","running","work"],"squirrel":false},
    {"events":["potatoes","exercise","work"],"squirrel":false},
    {"events":["pizza","ice cream","computer","work"],"squirrel":false},
    {"events":["lasagna","ice cream","work"],"squirrel":false},
    {"events":["cauliflower","candy","reading","weekend"],"squirrel":false},
    {"events":["lasagna","nachos","brushed teeth","running","weekend"],"squirrel":false},
    {"events":["potatoes","brushed teeth","work"],"squirrel":false},
    {"events":["carrot","work"],"squirrel":false},
    {"events":["pizza","beer","work","dentist"],"squirrel":false},
    {"events":["lasagna","pudding","cycling","work"],"squirrel":false},
    {"events":["spaghetti","brushed teeth","reading","work"],"squirrel":false},
    {"events":["spaghetti","pudding","television","weekend"],"squirrel":false},
    {"events":["bread","brushed teeth","exercise","weekend"],"squirrel":false},
    {"events":["lasagna","peanuts","work"],"squirrel":true},
    {"events":["pizza","work"],"squirrel":false},
    {"events":["potatoes","exercise","work"],"squirrel":false},
    {"events":["brushed teeth","exercise","work"],"squirrel":false},
    {"events":["spaghetti","brushed teeth","television","work"],"squirrel":false},
    {"events":["pizza","cycling","weekend"],"squirrel":false},
    {"events":["carrot","brushed teeth","weekend"],"squirrel":false},
    {"events":["carrot","beer","brushed teeth","work"],"squirrel":false},
    {"events":["pizza","peanuts","candy","work"],"squirrel":true},
    {"events":["carrot","peanuts","brushed teeth","reading","work"],"squirrel":false},
    {"events":["potatoes","peanuts","brushed teeth","work"],"squirrel":false},
    {"events":["carrot","nachos","brushed teeth","exercise","work"],"squirrel":false},
    {"events":["pizza","peanuts","brushed teeth","television","weekend"],"squirrel":false},
    {"events":["lasagna","brushed teeth","cycling","weekend"],"squirrel":false},
    {"events":["cauliflower","peanuts","brushed teeth","computer","work","touched tree"],"squirrel":false},
    {"events":["lettuce","brushed teeth","television","work"],"squirrel":false},
    {"events":["potatoes","brushed teeth","computer","work"],"squirrel":false},
    {"events":["bread","candy","work"],"squirrel":false},
    {"events":["potatoes","nachos","work"],"squirrel":false},
    {"events":["carrot","pudding","brushed teeth","weekend"],"squirrel":false},
    {"events":["carrot","brushed teeth","exercise","weekend","touched tree"],"squirrel":false},
    {"events":["brussel sprouts","running","work"],"squirrel":false},
    {"events":["brushed teeth","work"],"squirrel":false},
    {"events":["lettuce","brushed teeth","running","work"],"squirrel":false},
    {"events":["candy","brushed teeth","work"],"squirrel":false},
    {"events":["brussel sprouts","brushed teeth","computer","work"],"squirrel":false},
    {"events":["bread","brushed teeth","weekend"],"squirrel":false},
    {"events":["cauliflower","brushed teeth","weekend"],"squirrel":false},
    {"events":["spaghetti","candy","television","work","touched tree"],"squirrel":false},
    {"events":["carrot","pudding","brushed teeth","work"],"squirrel":false},
    {"events":["lettuce","brushed teeth","work"],"squirrel":false},
    {"events":["carrot","ice cream","brushed teeth","cycling","work"],"squirrel":false},
    {"events":["pizza","brushed teeth","work"],"squirrel":false},
    {"events":["spaghetti","peanuts","exercise","weekend"],"squirrel":true},
    {"events":["bread","beer","computer","weekend","touched tree"],"squirrel":false},
    {"events":["brushed teeth","running","work"],"squirrel":false},
    {"events":["lettuce","peanuts","brushed teeth","work","touched tree"],"squirrel":false},
    {"events":["lasagna","brushed teeth","television","work"],"squirrel":false},
    {"events":["cauliflower","brushed teeth","running","work"],"squirrel":false},
    {"events":["carrot","brushed teeth","running","work"],"squirrel":false},
    {"events":["carrot","reading","weekend"],"squirrel":false},
    {"events":["carrot","peanuts","reading","weekend"],"squirrel":true},
    {"events":["potatoes","brushed teeth","running","work"],"squirrel":false},
    {"events":["lasagna","ice cream","work","touched tree"],"squirrel":false},
    {"events":["cauliflower","peanuts","brushed teeth","cycling","work"],"squirrel":false},
    {"events":["pizza","brushed teeth","running","work"],"squirrel":false},
    {"events":["lettuce","brushed teeth","work"],"squirrel":false},
    {"events":["bread","brushed teeth","television","weekend"],"squirrel":false},
    {"events":["cauliflower","peanuts","brushed teeth","weekend"],"squirrel":false}
  ];

let day1 = {
    squirrel: false,
    events: ["work", "touched tree", "pizza", "running"]
};

// console.log(day1.squirrel);

let journal = [];

function addEntry(events, squirrel){
    journal.push({events, squirrel});
}

function phi(table) {
    return (table[3]*table[0]-table[1]*table[2])/
            Math.sqrt((table[2]+table[3])*
                      (table[0]+table[1])*
                      (table[1]+table[3])*
                      (table[0]+table[2]));  
}

// console.log(phi([76, 9, 4, 1]));

// generatin table for events

function tableFor(event, journal){
    let table = [0, 0, 0, 0];
    for(let i = 0; i < journal.length; i++){
        let entry = journal[i]; index = 0;
        if(entry.events.includes(event)) index += 1;
        if(entry.squirrel) index  += 2;
        table[index] += 1;
    }
    return table;
}

// for(let entry of JOURNAL) {
//     console.log(`${entry.events.length} events`);
// }

function journalEvents(journal){
    let events = [];
    for(let entry of journal){
        for(let event of entry.events){
            if(!events.includes(event)){
                events.push(event);
            }
        }
    }
    return events;
}

// console.log(journalEvents(JOURNAL));

// printing coorelation of every event

// for(let event of journalEvents(JOURNAL)){
//     console.log(`${event} : ${phi(tableFor(event,JOURNAL))}`);
// }

// limiting corelation

// for(let event of journalEvents(JOURNAL)){
//     let correlation = phi(tableFor(event,JOURNAL));
//     if(correlation > 0.1 || correlation < -0.1){
//         console.log(`${event} : ${correlation}`);
//     }
// }

// eating peanuts have a positive effect while brushing teeth have negative effect

// for(let entry of JOURNAL){
//     if(entry.events.includes("peanuts") && !entry.events.includes("brushed teeth")){
//         entry.events.push("peanut teeth") 
//         console.log(entry)
//     }
// }

// console.log(phi(tableFor("peanut teeth", JOURNAL)))


function remove(array, index){
    return array.slice(0, index).concat(array.slice(index+1));
}

// console.log(remove(["a","b", "c", "d", "e"], 2));

function range(start, end){
    let a = [];
    for(let i = start; i <= end; i++){
        a.push(i)
    }
    return a;
}

function sum(array){
    let sum =0;
    for( let a of array) sum +=a;
    return sum;
}

// console.log(sum(range(1,10)));

function range2(start, end, step = 1){
    let a = [];
    if(start>end && step<0) {
        for(let i = start; i >= end; i--) a.push(i);
    } else if(start<end && step>0){
        for(let i = start; i <= end; i++) a.push(i);
    } else{
        return "Please provide correct inputs"
    }
    return a;
}

// console.log(range2(1, 10));
// console.log(range2(5, 2, -1));

function reverseArray(array){
    let a = [];
    for(let i =0;i<array.length; i++){
        a[i] = array[array.length-1-i]
    }
    return a;
}

function reverseArrayInPlace(array){
    let temp = 0;
    let len = array.length;
    for(let i =0; i < len/2; i++){
        temp = array[len-1-i];
        array[len-1-i] = array[i];
        array[i] = temp;
    }
    return array;
}

// console.log(reverseArray(["A", "B", "C"]));
// let arrayValue = [1, 2, 3, 4, 5];
// reverseArrayInPlace(arrayValue);
// console.log(arrayValue);

function arrayToList(array){
    let list = null;
    for(let i = array.length-1; i>=0; i--) {
        list = {value: array[i], rest: list}
    }
    return list;
}

function listToArray(list){
    let a = [];
    for(let node = list; node; node = node.rest) {
        a.push(node.value);
    }
    return a;
}

function prepend(a, list){
    return {value: a, rest: list};
}

function nth(list, index){
    let pos = 0;
    for(let node =list; node; node = node.rest){
        if(pos == index) return node.value;
        pos++;
    }
    return undefined;
}

function nth2(list, n){
    if(!list) return undefined;
    if(n == 0) return list.value;
    return nth2(list.rest,n-1)
}
// console.log(arrayToList([10, 20]));
// console.log(listToArray(arrayToList([10, 20, 30])));
// console.log(prepend(10, prepend(20, null)));
// console.log(nth(arrayToList([10, 20, 30]), 2));
// console.log(nth2(arrayToList([10, 20, 30]), 10));

function deepEqual(obj1, obj2){
    if( obj1 === obj2) return true;

    if( obj1 == null || typeof obj1 != "object" || 
        obj2 == null || typeof obj2 != "object") return false;

    let keysA = Object.keys(obj1), keysB = Object.keys(obj2);
    // console.log(`${Object.keys(obj1)} & ${Object.keys(obj2)}`);
    // console.log(`${keysA.length} & ${keysB.length}`);
    if(keysA.length != keysB.length) return false;

    for(let a of keysA){
        if(!keysB.includes(a) || !deepEqual(obj1[a],obj2[a])) return false;
    }

    return true;
}

// let obj = {here: {is: "an"}, object: 2};
// // console.log(deepEqual(obj, obj));
// console.log(deepEqual(obj, {here: 1, object: 2}));
// console.log(deepEqual(obj, {here: {is: "an"}, object: 2}));